## Purpose
A RESTful API for uploading, altering, and saving wav files

## Set Up
1. Clone the repo into whatever directory you choose
2. 'npm i' (to install all dependencies)
3. 'npm run webpack' to build the page
4. follow the link provided see the webpage
5. Create an .env file with the following information:
  * note: you will need to have an AWS account to use this program
  PORT=3000
  MONGODB_URI='<your mongo uri>'
  DEBUG=true
  CORS_ORIGINS='<one or more cors origins>'
  SECRET_SALT='a random string'
  AWS_ACCESS_KEY_ID='your aws access key id'
  AWS_SECRET_ACCESS_KEY='you aws secret access key'
  AWS_BUCKET='the name of the bucket you created on AWS'
6. 'npm run dbon' to start MongoDB
7. 'npm run start' to start the server

## API Resources
#### User Model: The user model is used for authorization and authentication when interacting with other resources (profile, wav files). It contains:
  * `_id`: a unique id generated by the database for identifying the user
  * `username`: a unique string
  * `email`: a unique string with a valid email format
  * `passwordHash`: a string of the hashed password used to verify the user
  * `passwordSalt`: the random 64 byte hex string generated for hashing with the password to improve security
  * `tokenSeed`: a unique string used for creating authentication tokens

#### Wav Model: Authorization is required to create, update, get, or delete a wav file. Each user has a single wav file stored on AWS. It contains:
  * `_id`: a unique id generated by the database for identifying the wav file
  * `user`: the user id of the account
  * `wavename`: a string of the wavename supplied in the wav form field
  * `url`: the url locating the wav file on AWS
  * `transform`: a string of the transform type supplied in the wav form field

#### Profile Model: Authorization is required to create or update a profile; profiles cannot be deleted. Each user has a single profile containing:
  * `_id`: a unique id generated by the database for identifying the profile
  * `owner`: the user id of the account
  * `bio`: a string holding the user's bio
  * `username`: a string holding the username of the account

## Routes
### User
#### POST /signup
  * create a user account for the first time
  * request: user object with username, password, and email
  * response: a token
#### GET /login
  * login using an existing account
  * request:
    _must contain an authorization header with username and password_
  * response: a token

### Profile
#### POST /profile
  * request:
    _must include an authorization header containing a bearer token and_ content-type application/json
  * response: the profile for the logged in user
#### PUT /profile/:id
  * request:
    _must include an authorization header containing a bearer token and_ content-type application/json
  * response: the profile for the logged in user
#### GET /profile/myProfile
  * request:
    _must include an authorization header containing a bearer token_
  * response: the profile for the logged in user

### Wav File
#### GET /waves
  * request:
    _must include an authorization header containing a bearer token_
  * response: the user's wav file currently stored on AWS
#### POST /waves/:transform
  * request:
    _must include an authorization header containing a bearer token, an attached wav file, and the wavename as the 'wavename' field_
  * response: a wav file
#### PUT /waves/:transform
  * request:
    _must include an authorization header containing a bearer token, an attached wav file, and the wavename in the 'wavename' field_
  * response: the updated wav file
#### DELETE /waves
  * request:
    _must include an authorization header containing a bearer token_
  * response: a 204 status; wav file is removed from AWS and MongoDB

## Technologies Used
  * aws-sdk
  * aws-sdk-mock
  * babel-core
  * babel-loader
  * babel-plugin-transform-object-rest-spread
  * babel-preset-env
  * babel-preset-react
  * bcrypt
  * clean-webpack-plugin
  * cors
  * css-loader
  * dotenv
  * enzyme
  * enzyme-adapter-react-16
  * eslint
  * eslint-plugin-react
  * express
  * extract-text-webpack-plugin
  * faker
  * fs-extra
  * html-webpack-plugin
  * http-errors
  * jest
  * jsonwebtoken
  * mongoose
  * multer
  * node-sass
  * react
  * react-dom
  * react-redux
  * react-router-dom
  * redux-devtools-extension
  * resolve-url-loader
  * sass-loader
  * style-loader
  * superagent
  * uglifyjs-webpack-plugin
  * uuid
  * webpack
  * webpack-dev-server
  * winston

## License
MIT

## Credits
* Vinicio Vladimir Sanchez Trejo & the Code Fellows curriculum provided the base .babelrc, .eslintrc, .eslintignore, and .gitignore files.

* My fellow 401JS classmates and the instructional staff for help problem solving and debugging.
